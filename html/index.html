<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Quiz</title>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" 
rel="stylesheet" 
integrity="sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc= sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" 
crossorigin="anonymous">
<style>
.col-sm-6 {
	padding: 10px;
}

.answer {
	margin-left: auto;
	margin-right: auto;
	display: block;
	width: 80%;
	background: #C6F3FF;
}

.container{ 
	border: solid 1px #D8D8D8;
}

.hide {
	display: none;
}

.show {
	display.block;
}

.pageMovenent {
	margin-top: 25px;
}
</style>

</head>

<body>
<div class="container">
<h1>qz</h1>
	<div id="quizContent" class="row quiz">
		<div class="col-sm-12">
			<h2 id="quizHeader"></h2>
		</div>
		<div id="questions" class="row">
			<div class="col-sm-6">
				<a data-id="1" class="btn btn-default answer"></a>
			</div>
			<div class="col-sm-6">
				 <a data-id="2" class="btn btn-default answer"></a>
			</div>
			<div class="col-sm-6">
				 <a data-id="3" class="btn btn-default answer"></a>
			</div>
			<div class="col-sm-6">
				 <a data-id="4" class="btn btn-default answer"></a>
			</div>
		</div>
	</div>	
	<div class="row pageMovement">
		<div id="btnPrevious" class="col-xs-5 col-sm-4 btn btn-primary">Previous</div>
		<div id="btnNext" class="col-xs-5 col-sm-4 col-sm-offset-4 col-xs-offset-2 btn btn-primary">Next</div>
	</div>
</div>


</body>
</html>


<script>
	var currPage = -1;
	
	var myQuiz = [
			["What is addEventListener() user for?","attach a click event","nothing","never use it","listens to html",1],
			["Whats does DOM stands for","Document Object model","Doucement over mountains","Do Over Models","Nothing",1],
			["question 3","Document Object model 3","Doucement over mountains 3","Do Over Models 3","Nothing",3]
	];
	//pobranie obiektów przez id
	document.getElementById("btnNext").addEventListener("click", moveNext);
	document.getElementById("btnPrevious").addEventListener("click", moveBack);
	
	/*
	var myOne = document.getElementById("page1");
	var myTwo = document.getElementById("page2");
	*/
	
	var question = document.getElementById("quizHeader");
	//question.innerHTML = myQuiz[0][0];
	
	//pobranie parenta z którego można odwoływać się do podelementów przez .children[x]
	var myQuestion = document.getElementById("questions");
	console.log(myQuestion.children[0]);
	moveNext(currPage);
	//to pobierze listę odpowiedzi w tablicy po nazwie klasy
	var classname = document.getElementsByClassName("answer");
	console.log(classname);
	for(var i=0;i<classname.length;i++){
		// dodanie listenera do obiektu. odwołanie do metody będącej obiektem
		classname[i].addEventListener('click',myAnswer,false);
	}
	
	function myAnswer(){
		//kolejna magia - pobranie id z obiektu na którym została wykonana metoda poprzez metodę getAttribute...
		var idAnswer = this.getAttribute("data-id");
		console.log(idAnswer);
		document.getElementById("page1").innerHTML = 'idAnswer ' + idAnswer;
	}
	
	function moveNext(){
		if(currPage >= myQuiz.length-1){
			console.log("End of quiz");
		} else {
			currPage++;
			checkPage(currPage);
		}
		//document.getElementById("page1").innerHTML = 'next page ' + currPage;
	}
	
	function moveBack(){
		if(currPage <= 0){
			console.log("quiz start. stay here!");
		}else{
			currPage--;
			checkPage(currPage);
		}
		//document.getElementById("page1").innerHTML = 'previous page ' + currPage;
	}	
	
	/*
		Metoda sprawdzajaca a której stronie jestesmy i włączająca lub wyłączająca odpowiednie klasy w obiektach
	*/
	function checkPage(i){
		console.log("checkPage: " + i);
		question.innerHTML = myQuiz[i][0];
		for(var j=0;j<myQuestion.children.length;j++){
			//podwójne zagnieżdżenie, bo obiekt tekstowy jest pod buttonem
			myQuestion.children[j].children[0].innerHTML = myQuiz[i][j+1];
		}
		
	}

</script>